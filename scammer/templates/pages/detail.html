{% extends 'parent/base.html' %}
{% block title %}detail{% endblock %}
{% load static %}


{% block content %}
    <div class="container my-5">

    <!-- Ø¹Ù†ÙˆØ§Ù† ÙØ±ÙˆØ´Ú¯Ø§Ù‡ -->
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-primary">{{ shop.name }}</h1>
    </div>

    {% if shop.images.all %}
        <!-- Ú¯Ø§Ù„Ø±ÛŒ ØªØµØ§ÙˆÛŒØ± -->
        <div class="mx-auto" style="max-width: 800px;">
            {% for img in shop.images.all %}
            <div class="card border-0 shadow-sm rounded-4 mb-5">
                {% if img.img_file %}
                <img src="{{ img.img_file.url }}" class="card-img-top img-fluid" alt="{{ img.title|default:'ØªØµÙˆÛŒØ±' }}">
                {% else %}
                <img src="{% static 'placeholder.png' %}" class="card-img-top img-fluid" alt="Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ±">
                {% endif %}
            </div>
            {% endfor %}
        </div>

        <!-- ØªÙˆØ¶ÛŒØ­Ø§Øª ÙÙ‚Ø· ÛŒÚ©Ø¨Ø§Ø± -->
        <div class="bg-light text-center p-4 rounded-4 shadow-sm mx-auto mb-4" style="max-width: 800px;">
            <p class="fs-5">{{ shop.images.first.description|default:"Ø¨Ø¯ÙˆÙ† ØªÙˆØ¶ÛŒØ­Ø§Øª" }}</p>
        </div>

        <!-- Ø³ÙˆØ§Ù„ Ùˆ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ -->
        <div class="feedback-wrapper mx-auto text-center mb-4" style="max-width: 800px;">
            <p class="fs-4 fw-semibold text-dark mb-3">Ø¢ÛŒØ§ Ø§Ø² Ø§ÛŒÙ† ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø±Ø§Ø¶ÛŒ Ù‡Ø³ØªÛŒØ¯ØŸ</p>

            <div class="feedback-buttons">
                <button type="button" class="feedback-btn like">
                    ğŸ‘ <span class="count">{{ shop.likes_count }}</span>
                </button>

                <button type="button" class="feedback-btn dislike">
                    ğŸ‘ <span class="count">{{ shop.dislikes_count }}</span>
                </button>
            </div>
        </div>

        <!-- ØªØ§Ø±ÛŒØ® Ùˆ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ -->
        <div class="d-flex justify-content-between bg-white border-0 px-4 py-2 text-muted small mx-auto" style="max-width: 800px;">
            <span class="text-start">{{ shop.images.first.created|date:"Y-m-d H:i" }}</span>
            <span class="text-end">{{ shop.author.username }}</span>
        </div>

    {% else %}
        <p class="text-center text-muted fs-5 mt-4">
            Ù‡ÛŒÚ† ØªØµÙˆÛŒØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.
        </p>
    {% endif %}

</div>

<style>
body {
    background-color: white;
}

.feedback-wrapper .feedback-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.feedback-btn {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    padding: .5rem 1.5rem;
    border: none;
    border-radius: 999px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: transform 0.1s ease, box-shadow 0.15s ease;
}

.feedback-btn.like {
    background-color: #198754;
    color: white;
}

.feedback-btn.dislike {
    background-color: #dc3545;
    color: white;
}

.feedback-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.15);
}

.feedback-btn:active {
    transform: scale(0.97);
}
</style>
{% endblock %}